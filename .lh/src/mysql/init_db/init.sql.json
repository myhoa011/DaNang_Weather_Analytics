{
    "sourceFile": "src/mysql/init_db/init.sql",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1733410935870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1733410957667,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,10 +76,8 @@\n     seasonal_wind_deg FLOAT NOT NULL,\r\n     residual_wind_deg FLOAT NOT NULL\r\n );\r\n \r\n-\r\n-\r\n -- Create weather data table\r\n CREATE TABLE IF NOT EXISTS correlation_table (\r\n     temp FLOAT NOT NULL,\r\n     pressure FLOAT NOT NULL,\r\n"
                }
            ],
            "date": 1733410935870,
            "name": "Commit-0",
            "content": "-- Create database\r\nCREATE DATABASE IF NOT EXISTS weather_db;\r\nUSE weather_db;\r\n\r\n-- Create weather data table\r\nCREATE TABLE IF NOT EXISTS raw_weather_data (\r\n    dt INT PRIMARY KEY,\r\n    temp FLOAT,\r\n    pressure INT,\r\n    humidity INT,\r\n    clouds INT,\r\n    visibility INT,\r\n    wind_speed FLOAT,\r\n    wind_deg INT\r\n); \r\n\r\nCREATE TABLE IF NOT EXISTS processed_weather_data (\r\n    dt INT PRIMARY KEY,\r\n    temp FLOAT NOT NULL,\r\n    pressure INT NOT NULL,\r\n    humidity INT NOT NULL,\r\n    clouds INT NOT NULL,\r\n    visibility INT NOT NULL,\r\n    wind_speed FLOAT NOT NULL,\r\n    wind_deg INT NOT NULL\r\n); \r\n\r\nCREATE TABLE IF NOT EXISTS predictions (\r\n    id BIGINT AUTO_INCREMENT PRIMARY KEY,\r\n    dt INT NOT NULL,\r\n    temp FLOAT NOT NULL,\r\n    prediction_hour INT NOT NULL,\r\n    hour INT,\r\n    day INT,\r\n    month INT,\r\n    year INT,\r\n    created_at INT,\r\n    formatted_time VARCHAR(20),\r\n    UNIQUE KEY `unique_prediction` (dt, prediction_hour)\r\n);\r\n\r\n-- create seasonal tanle\r\nCREATE TABLE IF NOT EXISTS seasonal_table (\r\n\tdt DATETIME,\r\n    observed_temp FLOAT NOT NULL,\r\n    trend_temp FLOAT NOT NULL,\r\n    seasonal_temp FLOAT NOT NULL,\r\n    residual_temp FLOAT NOT NULL,\r\n    observed_pressure FLOAT NOT NULL,\r\n    trend_pressure FLOAT NOT NULL,\r\n    seasonal_pressure FLOAT NOT NULL,\r\n    residual_pressure FLOAT NOT NULL,\r\n    \r\n    observed_humidity FLOAT NOT NULL,\r\n    trend_humidity FLOAT NOT NULL,\r\n    seasonal_humidity FLOAT NOT NULL,\r\n    residual_humidity FLOAT NOT NULL,\r\n    \r\n    observed_clouds FLOAT NOT NULL,\r\n    trend_clouds FLOAT NOT NULL,\r\n    seasonal_clouds FLOAT NOT NULL,\r\n    residual_clouds FLOAT NOT NULL,\r\n    \r\n    observed_visibility FLOAT NOT NULL,\r\n    trend_visibility FLOAT NOT NULL,\r\n    seasonal_visibility FLOAT NOT NULL,\r\n    residual_visibility FLOAT NOT NULL,\r\n    \r\n    observed_wind_speed FLOAT NOT NULL,\r\n    trend_wind_speed FLOAT NOT NULL,\r\n    seasonal_wind_speed FLOAT NOT NULL,\r\n    residual_wind_speed FLOAT NOT NULL,\r\n    \r\n    observed_wind_deg FLOAT NOT NULL,\r\n    trend_wind_deg FLOAT NOT NULL,\r\n    seasonal_wind_deg FLOAT NOT NULL,\r\n    residual_wind_deg FLOAT NOT NULL\r\n);\r\n\r\n\r\n\r\n-- Create weather data table\r\nCREATE TABLE IF NOT EXISTS correlation_table (\r\n    temp FLOAT NOT NULL,\r\n    pressure FLOAT NOT NULL,\r\n    humidity FLOAT NOT NULL,\r\n    clouds FLOAT NOT NULL,\r\n    visibility FLOAT,\r\n    wind_speed FLOAT NOT NULL,\r\n    wind_deg FLOAT NOT NULL\r\n);\r\n\r\nCREATE TABLE cluster_data (\r\n    dt INT PRIMARY KEY,                  \r\n    temp FLOAT NOT NULL,               \r\n    pressure INT NOT NULL,             \r\n    humidity INT NOT NULL,             \r\n    clouds INT NOT NULL,               \r\n    visibility INT DEFAULT NULL,     \r\n    wind_speed FLOAT NOT NULL,        \r\n    wind_deg INT NOT NULL,            \r\n    date DATETIME NOT NULL,            \r\n    month INT NOT NULL,               \r\n    scaled_temp FLOAT NOT NULL,      \r\n    kmean_label INT NOT NULL,         \r\n    custom_label INT NOT NULL         \r\n);\r\nCREATE TABLE centroids (\r\n    id INT AUTO_INCREMENT PRIMARY KEY,\r\n    cluster_name VARCHAR(255) NOT NULL,\r\n    scaled_temp FLOAT NOT NULL,\r\n    temp FLOAT NOT NULL\r\n);\r\n\r\n\r\nCREATE TABLE IF NOT EXISTS temp_tomorrow_predict(\r\n    id INT AUTO_INCREMENT PRIMARY KEY,\r\n    temp_predict FLOAT,\r\n    prediction_date INT,\r\n    date DATETIME\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS spider(\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n     season varchar(255),\r\n    days int,\r\n    year int\r\n);\r\n\r\n"
        }
    ]
}